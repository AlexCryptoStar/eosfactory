
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Tic-tac-toe contract on a remote testnet &#8212; EOSFactory 2.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Introduction to EOSFactory" href="../tutorials/00.IntroductionToEOSFactory.html" />
    <link rel="prev" title="Registering to a remote testnet" href="registering_to_testnode.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p>“”“</p>
<div class="section" id="tic-tac-toe-contract-on-a-remote-testnet">
<span id="tic-tac-toe-contract-on-a-remote-testnet"></span><h1>Tic-tac-toe contract on a remote testnet<a class="headerlink" href="#tic-tac-toe-contract-on-a-remote-testnet" title="Permalink to this headline">¶</a></h1>
<pre>
This file can be executed as a python script: 'python3 account_master.md'.<p>The set-up statements are explained at <a href="setup.html">cases/setup</a>.</p>
</pre><div class="section" id="set-up">
<span id="set-up"></span><h2>Set-up<a class="headerlink" href="#set-up" title="Permalink to this headline">¶</a></h2>
<div class="highlight-md notranslate"><div class="highlight"><pre>&quot;&quot;&quot;
import os
import setup
import eosf
import eosf_account
from eosf_wallet import Wallet
from eosf_account import account_create, account_master_create
from eosf_contract import Contract

cryptolions = &quot;88.99.97.30:38888&quot;

&quot;&quot;&quot;
</pre></div>
</div>
<div class="highlight-md notranslate"><div class="highlight"><pre>Throw an exception if the testnode is off:
</pre></div>
</div>
<div class="highlight-md notranslate"><div class="highlight"><pre>&quot;&quot;&quot;
eosf.use_keosd(True)
setup.set_nodeos_address(cryptolions)
eosf.set_throw_error(True)
eosf.info()
eosf.set_throw_error(False)
&quot;&quot;&quot;
</pre></div>
</div>
<div class="highlight-md notranslate"><div class="highlight"><pre>The following account exists in the blockchain of the testnode. It is used, in
this article, for testing. It is referred to as the &#39;testing account&#39;.
</pre></div>
</div>
<div class="highlight-md notranslate"><div class="highlight"><pre>Account Name: dgxo1uyhoytn
Owner Public Key: EOS8AipFftYjovw8xpuqCxsjid57XqNstDyeTVmLtfFYNmFrgY959
Active Public Key: EOS6HDfGKbR79Gcs74LcQfvL6x8eVhZNXMGZ48Ti7u84nDnyq87rv

Owner Private Key: 5JE9XSurh4Bmdw8Ynz72Eh6ZCKrxf63SmQWKrYJSXf1dEnoiKFY
Active Private Key: 5JgLo7jZhmY4huDNXwExmaWQJqyS1hGZrnSjECcpWwGU25Ym8tA 
</pre></div>
</div>
<div class="highlight-md notranslate"><div class="highlight"><pre>For the sake of this tutorial, to make it reproducible without the need of 
keeping the password of the system wallet, we delete the test wallet 
(if exists) and recreate it.
</pre></div>
</div>
<div class="highlight-md notranslate"><div class="highlight"><pre>&quot;&quot;&quot;
eosf.use_keosd(True)    # to determine the directory of the wallet
eosf.kill_keosd()       # otherwise, the manager protects the wallet file

wallet_name = &quot;jungle_wallet&quot;
try:
    wallet_file = eosf.wallet_dir() + wallet_name + &quot;.wallet&quot;
    os.remove(wallet_file)
    print(&quot;The deleted wallet file:\n{}\n&quot;.format(wallet_file))
except Exception as e:
    print(&quot;Cannot delete the wallet file:\n{}\n&quot;.format(str(e)))
&quot;&quot;&quot;
</pre></div>
</div>
<div class="highlight-md notranslate"><div class="highlight"><pre>&quot;&quot;&quot;
eosf_account.restart()    # reset the Factory
eosf.use_keosd(True)
setup.set_nodeos_address(cryptolions)

ACCOUNT_MASTER = &quot;account_master&quot;
ACCOUNT_TTT = ACCOUNT_MASTER

wallet = Wallet(wallet_name)
account_master_create(
    ACCOUNT_MASTER,
    &quot;dgxo1uyhoytn&quot;,
    &quot;5JE9XSurh4Bmdw8Ynz72Eh6ZCKrxf63SmQWKrYJSXf1dEnoiKFY&quot;,
    &quot;5JgLo7jZhmY4huDNXwExmaWQJqyS1hGZrnSjECcpWwGU25Ym8tA&quot;
    )
account_master.info()
&quot;&quot;&quot;
</pre></div>
</div>
<div class="highlight-md notranslate"><div class="highlight"><pre>&quot;&quot;&quot;
contract_tic_tac_toe = Contract(account_master, &quot;tic_tac_toe_jungle&quot;)
contract_tic_tac_toe.build_abi()
contract_tic_tac_toe.deploy()
&quot;&quot;&quot;
</pre></div>
</div>
<div class="highlight-md notranslate"><div class="highlight"><pre>&quot;&quot;&quot;
import unittest
import setup
import eosf

from eosf_wallet import Wallet
from eosf_account import account_create, account_master_create
from eosf_contract import Contract

eosf.set_verbosity([eosf.Verbosity.EOSF, eosf.Verbosity.OUT, \
    eosf.Verbosity.DEBUG])
eosf.set_throw_error(False)

class Test1(unittest.TestCase):
    def test_tic_tac_toe(self):
        
        account_master = globals()[ACCOUNT_MASTER]
        account_tic_tac_toe = globals()[ACCOUNT_TTT]

        account_create(&quot;account_alice&quot;, account_master)
        account_create(&quot;account_carol&quot;, account_master)

        eosf.set_throw_error(False)
        eosf.set_is_testing_errors()

        ######################################################################  

        account_tic_tac_toe.push_action(
            &quot;create&quot;, 
            &#39;{&quot;challenger&quot;:&quot;&#39; + str(account_alice) 
                +&#39;&quot;, &quot;host&quot;:&quot;&#39; + str(account_carol) + &#39;&quot;}&#39;,
            account_carol)

        t = account_tic_tac_toe.table(&quot;games&quot;, account_carol)
        self.assertFalse(t.error)

        self.assertEqual(t.json[&quot;rows&quot;][0][&quot;board&quot;][0], 0)

        account_tic_tac_toe.push_action(
            &quot;move&quot;, 
            &#39;{&quot;challenger&quot;:&quot;&#39; + str(account_alice) 
                + &#39;&quot;, &quot;host&quot;:&quot;&#39; + str(account_carol) 
                + &#39;&quot;, &quot;by&quot;:&quot;&#39; + str(account_carol) 
                + &#39;&quot;, &quot;row&quot;:0, &quot;column&quot;:0 }&#39;, 
            account_carol)

        account_tic_tac_toe.push_action(
            &quot;move&quot;, 
            &#39;{&quot;challenger&quot;:&quot;&#39; + str(account_alice) 
                + &#39;&quot;, &quot;host&quot;:&quot;&#39; + str(account_carol) 
                + &#39;&quot;, &quot;by&quot;:&quot;&#39; + str(account_alice) 
                + &#39;&quot;, &quot;row&quot;:1, &quot;column&quot;:1 }&#39;, 
            account_alice)

        t = account_tic_tac_toe.table(&quot;games&quot;, account_carol)

        self.assertEqual(t.json[&quot;rows&quot;][0][&quot;board&quot;][0], 1)

        account_tic_tac_toe.push_action(
                &quot;restart&quot;, 
                &#39;{&quot;challenger&quot;:&quot;&#39; + str(account_alice) 
                    + &#39;&quot;, &quot;host&quot;:&quot;&#39; + str(account_carol) 
                    + &#39;&quot;, &quot;by&quot;:&quot;&#39; + str(account_carol) + &#39;&quot;}&#39;, 
                account_carol)

        t = account_tic_tac_toe.table(&quot;games&quot;, account_carol)
        self.assertFalse(t.error)

        self.assertEqual(t.json[&quot;rows&quot;][0][&quot;board&quot;][0], 0)

        account_tic_tac_toe.push_action(
                &quot;close&quot;, 
                &#39;{&quot;challenger&quot;:&quot;&#39; + str(account_alice) 
                    + &#39;&quot;, &quot;host&quot;:&quot;&#39; + str(account_carol) + &#39;&quot;}&#39;, 
                account_carol)
&quot;&quot;&quot;
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">unittest.main()</span>
<span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</div>
<p>“”“</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">EOSFactory</a></h1>





<p>
<iframe src="https://ghbtns.com/github-btn.html?user=&repo=&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>




<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="IDE.html">Visual Studio Code IDE for EOSIO smart contracts</a></li>
<li class="toctree-l1"><a class="reference internal" href="symbolic_names.html">Symbolic names</a></li>
<li class="toctree-l1"><a class="reference internal" href="account.html">Account object</a></li>
<li class="toctree-l1"><a class="reference internal" href="account_master.html">Account master object</a></li>
<li class="toctree-l1"><a class="reference internal" href="contract.html">Contract object</a></li>
<li class="toctree-l1"><a class="reference internal" href="wallet.html">Wallet object</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">EOSFactory configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="eosio_token_contract.html">Eosio Token Contract</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setting-up EOSFactory tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="account_name_conflict.html">Account name conflict</a></li>
<li class="toctree-l1"><a class="reference internal" href="registering_to_testnode.html">Registering to a remote testnet</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Tic-tac-toe contract on a remote testnet</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/00.IntroductionToEOSFactory.html">Introduction to EOSFactory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/01.InstallingEOSFactory.html">Installing EOSFactory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/02.InteractingWithEOSContractsInEOSFactory.html">Interacting with EOS Contracts in EOSFactory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/03.BuildingAndDeployingEOSContractsInEOSFactory.html">Building and Deploying EOS Contracts using EOSFactory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/04.WorkingWithEOSContractsUsingEOSFactoryInVSC.html">Working with EOS Contracts using EOSFactory in <em>Visual Studio Code</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/05.InteractingWithPublicTestnet.html">Interacting with Public Testnet</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/ReleaseNotesVersion0.8.html">EOSFactory Release Notes - v0.8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/ReleaseNotesVersion1.0.html">EOSFactory Release Notes - v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/ReleaseNotesVersion1.1.html">EOSFactory Release Notes - v1.1</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../roadmap/PlanForSubsequentEOSFactoryReleases.html">Plan for Subsequent EOSFactory Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roadmap/LongTermEOSFactoryRoadmap.html">Long-term EOSFactory Roadmap</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cleos.html">cleos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cleos_system.html">cleos_system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../teos.html">teos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eosf.html">eosf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../node.html">node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sess.html">sess</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="registering_to_testnode.html" title="previous chapter">Registering to a remote testnet</a></li>
      <li>Next: <a href="../tutorials/00.IntroductionToEOSFactory.html" title="next chapter">Introduction to EOSFactory</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Tokenika.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="../_sources/cases/remote_tic_tac_toe.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>