
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Account master object &#8212; EOSFactory 2.0 documentation</title>
    <link rel="stylesheet" href="../_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contract object" href="contract.html" />
    <link rel="prev" title="Account object" href="account.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="contract.html" title="Contract object"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="account.html" title="Account object"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">EOSFactory 2.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p>‘’‘</p>
<div class="section" id="account-master-object">
<span id="account-master-object"></span><h1>Account master object<a class="headerlink" href="#account-master-object" title="Permalink to this headline">¶</a></h1>
<p>This file can be executed as a python script: ‘python3 account_master.md’.</p>
<div class="section" id="set-up">
<span id="set-up"></span><h2>Set-up<a class="headerlink" href="#set-up" title="Permalink to this headline">¶</a></h2>
<p>The set-up statements are explained at <a href="setup.html">cases/setup</a>.</p>
<div class="highlight-md notranslate"><div class="highlight"><pre>&#39;&#39;&#39;
import os
import setup
import testnet_data
import eosf
import eosf_account
from eosf_wallet import Wallet
from eosf_account import account_create, account_master_create
from eosf_contract import Contract

_ = logger.Logger([logger.Verbosity.INFO, logger.Verbosity.OUT])
&#39;&#39;&#39;
</pre></div>
</div>
<div class="highlight-md notranslate"><div class="highlight"><pre>&#39;&#39;&#39;
testnet = testnet_data.kylin
&#39;&#39;&#39;
</pre></div>
</div>
</div>
<div class="section" id="case">
<span id="case"></span><h2>Case<a class="headerlink" href="#case" title="Permalink to this headline">¶</a></h2>
<p>The EOSFactory wraps EOSIO accounts with objects. The ‘account_create` factory function produces account objects, it is explained in the article <a href="account.html">cases/account</a>.</p>
<p>EOSIO needs that any action changing the blockchain, especially account
creation, is authorized by an existing account, therefore the ‘account_create`
factory takes this account as its second argument.</p>
<p>At the very beginning the very first one has to be produced. The ‘account_master_create’ factory function is to do this.</p>
<p>The function ‘account_master_create’ takes, as its first obligatory argument, the name of the account object to be created.</p>
<p>There are three cases where the ‘account_master_create’ factory can do. We will
show them.</p>
<div class="section" id="local-testnet-case">
<span id="local-testnet-case"></span><h3>Local testnet case<a class="headerlink" href="#local-testnet-case" title="Permalink to this headline">¶</a></h3>
<div class="highlight-md notranslate"><div class="highlight"><pre>&#39;&#39;&#39;
eosf.reset([logger.Verbosity.INFO])
wallet = Wallet()
account_master_create(&quot;account_master_images&quot;)
account_master_images.info()
eosf.stop([logger.Verbosity.INFO])
&#39;&#39;&#39;
</pre></div>
</div>
<p>The result of the script is the account object ‘account_master_images’ in the global namespace.</p>
<p>The object wraps the ‘eosio` account as a special one in the sense that it
does not have all the functionality of plain orders.</p>
<p>We expect that you get something similar to this one shown in the image below.</p>
<p><img src="account_master_images/account_master_eosio.png" 
onerror="this.src='../../../source/cases/account_master_images/account_master_eosio.png'" 
width="720px"/></p>
</div>
<div class="section" id="remote-testnet-registration">
<span id="remote-testnet-registration"></span><h3>Remote testnet registration<a class="headerlink" href="#remote-testnet-registration" title="Permalink to this headline">¶</a></h3>
<p>This case is shown at <a href="setup.html">cases/registering_to_testnode</a>.
There the account object is produced by manual interaction with the registration form of a testnet. There the resulting account object is fully functional.</p>
</div>
<div class="section" id="adding-a-physical-account">
<span id="adding-a-physical-account"></span><h3>Adding a physical account<a class="headerlink" href="#adding-a-physical-account" title="Permalink to this headline">¶</a></h3>
<p>If the user posses an account, that is, knows the account name and private keys,
they can add it to the Factory. In this show, we use an real account represented with the <code class="docutils literal notranslate"><span class="pre">testnet</span></code> object.</p>
<div class="highlight-md notranslate"><div class="highlight"><pre>&#39;&#39;&#39;
eosf_account.restart()    # reset the Factory
setup.set_nodeos_address(testnet.url, &quot;account_master_test&quot;)
&#39;&#39;&#39;
</pre></div>
</div>
<p>Delete files possibly created previously:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre>&#39;&#39;&#39;
eosf.remove_files()
&#39;&#39;&#39;
</pre></div>
</div>
<p>First, the ‘Wallet` singleton has to be created:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre>&#39;&#39;&#39;
wallet = Wallet()
account_master_create(
    &quot;account_master&quot;,
    testnet.account_name,
    testnet.owner_key,
    testnet.active_key
    )
account_master_images.info()
&#39;&#39;&#39;
</pre></div>
</div>
<p>Adding one orphan account programmatically is not practical, therefore we have a script that can help. For example:</p>
<div class="highlight-md notranslate"><div class="highlight"><pre>python3 add_account.py https://api.kylin-testnet.eospace.io \
account_master \
dgxo1uyhoytn \
5K4rezbmuoDUyBUntM3PqxwutPU3rYKrNzgF4f3djQDjfXF3Q67 \
5JCvLMJVR24WWvC6qD6VbLpdUMsjhiXmcrk4i7bdPfjDfNMNAeX
</pre></div>
</div>
<p><img src="account_master_images/add_account.png" 
onerror="this.src='../../../source/cases/account_master_images/add_account.png'" width="720px"/></p>
</div>
<div class="section" id="test-run">
<span id="test-run"></span><h3>Test run<a class="headerlink" href="#test-run" title="Permalink to this headline">¶</a></h3>
<p>If you execute this script with the command <code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">account_master.md</span></code>,
you may epect to get something similar to what we show shown in the image below.</p>
<p><img src="account_master_images/account_master_add.png" 
onerror="this.src='../../../source/cases/account_master_images/account_master_add.png'" width="720px"/>
‘’‘</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Account master object</a><ul>
<li><a class="reference internal" href="#set-up">Set-up</a></li>
<li><a class="reference internal" href="#case">Case</a><ul>
<li><a class="reference internal" href="#local-testnet-case">Local testnet case</a></li>
<li><a class="reference internal" href="#remote-testnet-registration">Remote testnet registration</a></li>
<li><a class="reference internal" href="#adding-a-physical-account">Adding a physical account</a></li>
<li><a class="reference internal" href="#test-run">Test run</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="account.html"
                        title="previous chapter">Account object</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="contract.html"
                        title="next chapter">Contract object</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../_sources/cases/account_master.md.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="contract.html" title="Contract object"
             >next</a> |</li>
        <li class="right" >
          <a href="account.html" title="Account object"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">EOSFactory 2.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Tokenika.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.7.6.
    </div>
  </body>
</html>