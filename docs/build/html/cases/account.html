
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Account object &#8212; EOSFactory 2.0 documentation</title>
    <link rel="stylesheet" href="../_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Contract object" href="contract.html" />
    <link rel="prev" title="Visual Studio Code IDE for EOSIO smart contracts" href="ide.html" />
   
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <p>“”“</p>
<div class="section" id="account-object">
<span id="account-object"></span><h1>Account object<a class="headerlink" href="#account-object" title="Permalink to this headline">¶</a></h1>
<p><normal><pre>
This file can be executed as a python script: ‘python3 account.md’.</p>
<p>The set-up statements are explained at <a href="setup.html">cases/setup</a>.</p>
</pre></normal><div class="section" id="set-up">
<span id="set-up"></span><h2>Set-up<a class="headerlink" href="#set-up" title="Permalink to this headline">¶</a></h2>
<p><normal><pre>
“”“
import setup
import eosf
from eosf_wallet import Wallet
from eosf_account import account_create, account_master_create
from eosf_contract import Contract</p>
<p>eosf.set_throw_error(True)
eosf.reset([eosf.Verbosity.TRACE])
“”“</p>
</pre></normal><div class="section" id="exactly-one-wallet-object-has-to-exist-in-the-namespace">
<span id="exactly-one-wallet-object-has-to-exist-in-the-namespace"></span><h3>Exactly one ‘Wallet’ object has to exist in the namespace<a class="headerlink" href="#exactly-one-wallet-object-has-to-exist-in-the-namespace" title="Permalink to this headline">¶</a></h3>
<p><normal><pre>
“”“
wallet = Wallet()account_master_create(“account_master”)
eosf.set_throw_error(False)
“”“</p>
</pre></normal></div>
</div>
<div class="section" id="case">
<span id="case"></span><h2>Case<a class="headerlink" href="#case" title="Permalink to this headline">¶</a></h2>
<p><normal><pre>
The ‘EOSFactory’ wraps EOSIO accounts with objects. Accounts can hold smart
contracts.</p>
<p>Create an account objects: ‘account_hello’. Add a contract of the class
‘hello’ to it. The code for the ‘hello’ class is in the EOSIO repository.</p>
<p>Add two other account objects, and execute the action of the contract on them
subsequently.</p>
</pre></normal><div class="section" id="the-account-create-factory-function">
<span id="the-account-create-factory-function"></span><h3>The ‘account_create’ factory function<a class="headerlink" href="#the-account-create-factory-function" title="Permalink to this headline">¶</a></h3>
<p><normal><pre>
“”“
account_create(“account_hello”, account_master)
“”“</p>
</pre></normal>
<normal><pre>
The first argument is the name of the account object to be created, the second
one points to the account master, authorizing the creation.<p>Only this two arguments are necessary, however there is several default
arguments that sometimes have to be adjusted.</p>
</pre></normal>
<normal><pre>
The 'account_create' does many tasks:<div class="highlight-default notranslate"><div class="highlight"><pre><span class="o">*</span> <span class="n">Checks</span> <span class="n">whether</span> <span class="n">a</span> <span class="s1">&#39;Wallet&#39;</span> <span class="nb">object</span> <span class="n">exist</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">namespace</span><span class="o">.</span>
<span class="o">*</span> <span class="n">Checks</span> <span class="n">whether</span> <span class="n">its</span> <span class="n">first</span> <span class="n">argument</span> <span class="ow">is</span> <span class="ow">not</span> <span class="n">the</span> <span class="n">same</span> <span class="k">as</span> <span class="n">the</span> <span class="n">name</span> <span class="n">of</span> <span class="nb">any</span> <span class="n">other</span>
    <span class="n">account</span> <span class="n">objects</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">Factory</span><span class="s1">&#39;s statistics. If it is so, a correction</span>
    <span class="n">action</span> <span class="ow">is</span> <span class="n">proposed</span> <span class="o">-</span> <span class="n">see</span> <span class="n">the</span> <span class="s1">&#39;account_name_conflict.md&#39;</span> <span class="n">case</span><span class="o">.</span>
<span class="o">*</span> <span class="n">Creates</span> <span class="n">a</span> <span class="k">global</span> <span class="nb">object</span> <span class="n">named</span> <span class="k">as</span> <span class="n">the</span> <span class="n">first</span> <span class="n">argument</span><span class="p">,</span> <span class="n">representing</span> 
    <span class="n">a</span> <span class="n">physical</span> <span class="n">account</span> <span class="n">of</span> <span class="n">a</span> <span class="n">random</span> <span class="n">name</span> <span class="p">(</span><span class="n">however</span><span class="p">,</span> <span class="n">the</span> <span class="n">name</span> <span class="n">cen</span> <span class="n">be</span> <span class="n">fixed</span><span class="p">)</span><span class="o">.</span>
<span class="o">*</span> <span class="n">Opens</span> <span class="n">the</span> <span class="n">wallet</span><span class="p">,</span> <span class="n">unlock</span> <span class="n">it</span><span class="p">,</span> <span class="n">put</span> <span class="n">the</span> <span class="n">physical</span> <span class="n">account</span> <span class="n">into</span> <span class="n">it</span><span class="o">.</span>
<span class="o">*</span> <span class="n">Updates</span> <span class="n">the</span> <span class="n">statistics</span> <span class="n">of</span> <span class="n">the</span> <span class="n">accounts</span><span class="o">.</span>
</pre></div>
</div>
<p>All the actions are logged to the terminal, if the verbosity is set default.</p>
</pre></normal></div>
<div class="section" id="methods-of-an-account-objects">
<span id="methods-of-an-account-objects"></span><h3>Methods of an account objects<a class="headerlink" href="#methods-of-an-account-objects" title="Permalink to this headline">¶</a></h3>
<p><normal><pre>
Any account object can:</p>
<ul class="simple">
<li>Load a smart contract.</li>
<li>Push an action on its contract.</li>
<li>Show its entry (a table) in the blockchain database,</li>
</ul>
</pre></normal></div>
<div class="section" id="create-a-contract-object">
<span id="create-a-contract-object"></span><h3>Create a Contract object<a class="headerlink" href="#create-a-contract-object" title="Permalink to this headline">¶</a></h3>
<p><normal><pre>
Create a smart contract object instance, appending it to the account
‘account_hello’. The ‘Contract’ class is presented at <a href="contract.html">cases/contract</a>.</p>
</pre></normal>
<normal><pre>
"""
contract_hello = Contract(account_hello, "hello")
contract_hello.build()
contract_hello.deploy()
"""
</pre></normal>
<normal><pre>
The second argument of the creator of the 'Contract' class identifies the 
code source. The Factory tries to be smart therefore searches the repository. 
If it fails, put the right path there, 
'/mnt/c/Workspaces/EOS/eosfactory/contracts/hello/',
for example.<p>If the deployment succeeds, the contract can be executed.</p>
</pre></normal></div>
<div class="section" id="try-the-contract">
<span id="try-the-contract"></span><h3>Try the contract<a class="headerlink" href="#try-the-contract" title="Permalink to this headline">¶</a></h3>
<p><normal><pre>
Create two contracts ‘account_alice’ and ‘account_carol’…</p>
</pre></normal><p><normal><pre>
“”“
account_create(“account_alice”, account_master)
account_create(“account_carol”, account_master)
“”“</p>
</pre></normal>
<normal><pre>
... and execute the action of the contract 'hello':
</pre></normal>
<normal><pre>
"""
account_hello.push_action(
    "hi", '{"user":"' + str(account_alice) + '"}', account_alice)<p>account_hello.push_action(
“hi”, ‘{“user”:”’ + str(account_carol) + ‘”}’, account_carol)
“”“</p>
</pre></normal>
<normal><pre>
Besides the usual 'Hello' message, you can see the result of a logging 
facility, starting with 'INFO'.
</pre></normal></div>
<div class="section" id="test-run">
<span id="test-run"></span><h3>Test run<a class="headerlink" href="#test-run" title="Permalink to this headline">¶</a></h3>
<p><normal><pre>
In an linux bash, change directory to where this file exists, it is the
directory ‘docs/source/cases’ in the repository, and enter the following
command:</p>
</pre></normal>
<normal><pre>
$ python3 account.md
</pre></normal>
<normal><pre>
We hope that you get something similar to this shown in the image below.
</pre></normal>
<img src="account.png" 
    onerror="this.src='../../../source/cases/account.png'"   
    alt="account object" width="720px"/><p>“”“</p>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">EOSFactory</a></h1>





<p>
<iframe src="https://ghbtns.com/github-btn.html?user=&repo=&type=watch&count=true&size=large"
  allowtransparency="true" frameborder="0" scrolling="0" width="200px" height="35px"></iframe>
</p>




<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="ide.html">Visual Studio Code IDE for EOSIO smart contracts</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Account object</a></li>
<li class="toctree-l1"><a class="reference internal" href="contract.html">Contract object</a></li>
<li class="toctree-l1"><a class="reference internal" href="wallet.html">Wallet object</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">EOSFactory configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="eosio_token_contract.html">Eosio Token Contract</a></li>
<li class="toctree-l1"><a class="reference internal" href="eosio_token_contract.html#the-master-account-authorizes-actions-on-the-blockchain">the master account authorizes actions on the blockchain:</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html">Setting-up EOSFactory tests</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html#"></a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html#set-up-statements">set-up statements</a></li>
<li class="toctree-l1"><a class="reference internal" href="setup.html#"></a></li>
<li class="toctree-l1"><a class="reference internal" href="account_name_conflict.html">Account name conflict</a></li>
<li class="toctree-l1"><a class="reference internal" href="registering_to_testnode.html">Registering to a remote testnet</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/00.IntroductionToEOSFactory.html">Introduction to EOSFactory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/01.InstallingEOSFactory.html">Installing EOSFactory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/02.InteractingWithEOSContractsInEOSFactory.html">Interacting with EOS Contracts in EOSFactory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/03.BuildingAndDeployingEOSContractsInEOSFactory.html">Building and Deploying EOS Contracts using EOSFactory</a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/04.WorkingWithEOSContractsUsingEOSFactoryInVSC.html">Working with EOS Contracts using EOSFactory in <em>Visual Studio Code</em></a></li>
<li class="toctree-l1"><a class="reference internal" href="../tutorials/05.InteractingWithPublicTestnet.html">Interacting with Public Testnet</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../releases/ReleaseNotesVersion0.8.html">EOSFactory Release Notes - v0.8</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/ReleaseNotesVersion1.0.html">EOSFactory Release Notes - v1.0</a></li>
<li class="toctree-l1"><a class="reference internal" href="../releases/ReleaseNotesVersion1.1.html">EOSFactory Release Notes - v1.1</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../roadmap/PlanForSubsequentEOSFactoryReleases.html">Plan for Subsequent EOSFactory Releases</a></li>
<li class="toctree-l1"><a class="reference internal" href="../roadmap/LongTermEOSFactoryRoadmap.html">Long-term EOSFactory Roadmap</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cleos.html">cleos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cleos_system.html">cleos_system</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../teos.html">teos</a></li>
<li class="toctree-l1"><a class="reference internal" href="../eosf.html">eosf</a></li>
<li class="toctree-l1"><a class="reference internal" href="../node.html">node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../sess.html">sess</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
      <li>Previous: <a href="ide.html" title="previous chapter">Visual Studio Code IDE for EOSIO smart contracts</a></li>
      <li>Next: <a href="contract.html" title="next chapter">Contract object</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2018, Tokenika.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.7.6</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.7</a>
      
      |
      <a href="../_sources/cases/account.md.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>